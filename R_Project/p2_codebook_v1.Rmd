---
title: "Markdown"
author: "Meena Mishra, Raphael Kirchgaessner, Brian Karlberg"
output: html_document
---

The xplicit and exact recipe to go from raw data to codebook that we used is as follows. First, we created a markdown file and pushed it to a GitHub repository so that we could work remotely as a team. Next, we evaluated tables 1 through 9 in the paper and determined the variables needed to recreat each table. After that, we loaded the raw data into the markdown file and selected every variable needed. Finally, we wrote a description of each variable in word, copied it to Excel, auto-split out just the description, read the file into R and then use mutate to added a variable description.

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, message = FALSE, warning = FALSE)
```

# Load Libraries
```{r}
library(haven)
library(dplyr)
```
 


## Load data
```{r}


allPatients = file.path("../","All_Data_Patientstudy.sav")
allDataPDGroups = file.path("../", "All_Data_PD_GroupPatientstudy.sav")

allDataPatientStudyDS = read_sav(allPatients)
allDataPDGroupsStudyDS = read_sav(allDataPDGroups)

new_p_s <- read.csv("/Users/bk/Desktop/Prksn_raw_codebook.csv")

```


## First glimpse
```{r}
glimpse(allDataPatientStudyDS)
glimpse(allDataPDGroupsStudyDS)
```
```{r}
variable.names(allDataPatientStudyDS)
```

## Codebook

```{r}
library(codebook)
library(igraph)

```
Age - age of participant in whole years
Length_Parkinson - duration of disease in years for each patient
Medication - Levodopa equivalent, rounded to nearest 50
H_Y - Hoehn Yahr
Sex - biological sex of patient
Handedness - whether the patient is right or left handed
MMSE - mini mental state examination
RAVEN - Raven's Progressive Matrices
Phonologic_Fluency - interger representation of a component a verbal fuency test
Semantic_Fluency - interger representation of a component a verbal fuency test
BNT - Boston Naming Test
SyllSec_Norm - syllables per second, normal
SyllSec_Ruis - *to do
NPro_Dur_Norm - duration of network task, nearest half-integer
NPro_Dur_Ruis - *to do
Nrm_Reformulation - repair without initial production of error
Nrm_FilledPause - prolongation such as "uh"
Nrm_Repetition - repetition of same words without adjustment
DisfluenciesNorm - an irregularity, break, or non-lexical pattern of speech\
Nois_Reformulation - repair under noise masking
Nois_FilledPause - prolongations under noise masking
Nois_Repetition - repitition under noise masking
DisfluenciesNoise - disfluency under noise masking
Nrm_Sem_Unrep - normal semantic unrepaired errors
Nrm_Sem_Rep - normal semantic repaird errors
SemErrors_Norm - normal semantic errors
Nrm_Phon_Unrep - normal phonetic unrepaired errors
Nrm_Phon_Rep - normal phonetic repaired errors
PhonErrors_Norm - normal phonetic errors
Nrm_Gram_Unrep - normal grammatical unrepaired errors
Nrm_Gram_Rep - normal grammatical repaired errors
GramErrors_Norm - normal grammatical errors
Norm_ErrorsUnrepaired - normal errors unrepaired
Norm_ErrorsRepaired - normal errors repaired  
TotalErrorsNorm_N - total normal errors  
Nois_Sem_Unrep - normal semantic noise  
Nois_Sem_Rep - normal phonetic noise
SemErrors_Noise - noise semantic errors
Nois_Phon_Unrep - phonetic unrepaired errors noise
Nois_Phon_Rep - phonetic repaired errors noise
PhonErrors_Nois - phonetic errors noise
Nois_Gram_Unrep - grammatical unrepaired errors noise
Nois_Gram_Rep - grammatical repaired errors noise
GramErrors_Nois - grammatical errors noise
Noise_ErrorsUnrepaired - errors repaired noise
Noise_ErrorsRepaired - errors unrepaired noise
TotalErrorsNois_N - total errors noise
Norm_ErrorsRepaired_ExDisf - normal errrors repaired, excluding disfluencies (?)
TotalErrorsNormal_exDisf - total normal errors, excluding disfluencies
Noise_ErrorsRepaired_ExDisf - repaired noise errors, excluding disfluencies
TotalErrorsNoise_exDisf - total noise errors, excluding disfluencies

```{r}
(descriptions <- read.csv("../parkinson_ group_patient_codebook.csv", header = FALSE))
```


```{r}

patientStudy <- allDataPatientStudyDS %>%
  select("Age", "Length_Parkinson", "Medication", "H_Y","Sex", "Handedness", "MMSE","RAVEN", "Phonologic_Fluency", "Semantic_Fluency", "BNT", "SyllSec_Norm", "SyllSec_Ruis", "NPro_Dur_Norm", "NPro_Dur_Ruis", "Nrm_Reformulation", "Nrm_FilledPause", "Nrm_Repetition", "DisfluenciesNorm", "Nois_Reformulation", "Nois_FilledPause", "Nois_Repetition", "DisfluenciesNoise", "Nrm_Sem_Unrep", "Nrm_Sem_Rep", "SemErrors_Norm", "Nrm_Phon_Unrep", "Nrm_Phon_Rep", "PhonErrors_Norm", "Nrm_Gram_Unrep", "Nrm_Gram_Rep", "GramErrors_Norm", "Norm_ErrorsUnrepaired", "Norm_ErrorsRepaired", "TotalErrorsNorm_N", "Nois_Sem_Unrep", "Nois_Sem_Rep", "SemErrors_Noise", "Nois_Phon_Unrep", "Nois_Phon_Rep", "PhonErrors_Nois", "Nois_Gram_Unrep", "Nois_Gram_Rep", "GramErrors_Nois", "Noise_ErrorsUnrepaired", "Noise_ErrorsRepaired", "TotalErrorsNois_N", "Norm_ErrorsRepaired_ExDisf", "TotalErrorsNormal_exDisf", "Noise_ErrorsRepaired_ExDisf", "TotalErrorsNoise_exDisf")

```

```{r}
groupStudy <- allDataPDGroupsStudyDS %>%
select("Age", "Medication", "Length_Parkinson","H_Y", "Sex", "Handedness", "MMSE", "RAVEN", "Phonologic_Fluency", "BNT", "SyllSec_Norm", "SyllSec_Ruis", "NPro_Dur_Norm", "NPro_Dur_Ruis", "Nrm_Reformulation", "Nrm_FilledPause", "Nrm_Repetition", "DisfluenciesNorm", "Nois_Reformulation", "Nois_FilledPause", "Nois_Repetition", "DisfluenciesNoise", "Nrm_Sem_Unrep", "Nrm_Sem_Rep", "SemErrors_Norm", "Nrm_Phon_Unrep", "Nrm_Phon_Rep", "PhonErrors_Norm", "Nrm_Gram_Unrep", "Nrm_Gram_Rep", "GramErrors_Norm", "Norm_ErrorsUnrepaired", "Norm_ErrorsRepaired", "TotalErrorsNorm_N", "Nois_Sem_Unrep", "Nois_Sem_Rep", "SemErrors_Noise", "Nois_Phon_Unrep", "Nois_Phon_Rep", "PhonErrors_Nois", "Nois_Gram_Unrep", "Nois_Gram_Rep", "GramErrors_Nois", "Noise_ErrorsUnrepaired", "Noise_ErrorsRepaired", "TotalErrorsNois_N", "Norm_ErrorsRepaired_ExDisf", "TotalErrorsNormal_exDisf", "Noise_ErrorsRepaired_ExDisf", "TotalErrorsNoise_exDisf")

```


```{r}
descriptions$V2
```

```{r}
#groupStudy %>%
 # mutate(descriptions = descriptions$V2)
```


```{r}
#codebook(patientStudy)
#codebook(groupStudy)
```

```{r}
codebook(new_p_s)
```

